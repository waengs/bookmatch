<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Open Library Books by Genre</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Books by Genre</h1>
    <label for="genreSelect">Select Genre:</label>
    <select id="genreSelect">
        <option value="mystery">Mystery</option>
        <option value="fantasy">Fantasy</option>
        <option value="romance">Romance</option>
        <!-- Add other genre options -->
    </select>
    <button id="fetchBooks">Fetch Books</button>
    <div id="bookList"></div>

    <script>
        $(document).ready(function() {
            $("#fetchBooks").click(function() {
                var selectedGenre = $("#genreSelect").val();
                var url = "https://openlibrary.org/subjects/" + selectedGenre + ".json?limit=10";

                $.ajax({
                    url: url,
                    method: "GET",
                    dataType: "json",
                    success: function(response) {
                        displayBooks(response.works);
                    },
                    error: function(xhr, status, error) {
                        console.log("Error fetching books:", error);
                    }
                });
            });

            function displayBooks(books) {
                var bookList = $("#bookList");
                bookList.empty();

                books.forEach(function(book) {
                    var title = book.title;
                    var author = book.authors ? book.authors[0].name : "Unknown Author";
                    var coverId = book.cover_id ? book.cover_id : null;
                    var coverUrl = coverId ? "https://covers.openlibrary.org/b/id/" + coverId + "-M.jpg" : "https://via.placeholder.com/100x150"; // Use a placeholder image if cover not available
                    var listItem = $("<div>").html("<strong>Title:</strong> " + title + "<br><strong>Author:</strong> " + author + "<br><img src='" + coverUrl + "' alt='" + title + "'><br><br>");
                    bookList.append(listItem);
                });
            }
        });
    </script>
</body>
</html>


